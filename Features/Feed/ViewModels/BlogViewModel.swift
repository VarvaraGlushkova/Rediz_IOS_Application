//
//  BlogViewModel.swift
//  Rediz Application
//
//  Created by Варвара Глушкова on 22.06.2025.
//


import SwiftUI

import SwiftUI

class BlogViewModel: ObservableObject {
    @Published var selectedCategory: String = "ALL"

    var allPosts: [BlogPost] = [
        BlogPost(
            imageName: "blog_image1",
            title: "7 китов редизайна: с чего начать преображение",
            author: "Александр Ларцев",
            date: "17 марта 2025",
            category: "POSTERS",
            article: BlogArticle(
                title: "7 китов редизайна: с чего начать преображение",
                authorName: "Александр Ларцев",
                authorPosition: "Преподаватель HSE ART AND DESIGN SCHOOL",
                authorAvatar: "avatar_lartsev",
                image: "blog_image1",
                date: "17 марта 2025",
                readTime: "10 мин",
                content: [
                    BlogSection(
                        heading: "С чего начать?",
                        body: "Любой успешный редизайн начинается с глубокого понимания вашей целевой аудитории. Кто они? Чего они хотят? Какие у них потребности и боли? Проведите исследование, изучите аналитику, опросите своих клиентов. Понимание аудитории позволит вам создать дизайн, который будет resonate с ними и эффективно решать их задачи. Нельзя создавать дизайн в вакууме – он должен быть ориентирован на конкретных людей. Пример: Если вы занимаетесь редизайном сайта для молодежной одежды, важно понимать, какие тренды сейчас популярны среди молодежи, какие платформы они используют, и какой визуальный язык им ближе.",
                        image: "blog_detail1"
                    ),
                    BlogSection(
                        heading: "Определение целей",
                        body: "Прежде чем приступать к визуальным изменениям, четко определите цели редизайна. Что вы хотите достичь? Улучшить узнаваемость бренда? Повысить конверсию? Увеличить вовлеченность пользователей? Четко сформулированные цели помогут вам сосредоточиться на наиболее важных аспектах и избежать ненужных изменений. Пример: Целью редизайна веб-сайта может быть увеличение количества заявок  на консультацию. В этом случае, необходимо будет оптимизировать формы обратной связи, сделать их более заметными и удобными для заполнения.",
                        image: "blog_detail2"
                    ),
                    BlogSection(
                        heading: "Изучение конкурентов",
                        body: "Анализ конкурентов – важный этап редизайна. Изучите их сильные и слабые стороны, проанализируйте их дизайн-решения, определите, что работает хорошо, а что нет. Это позволит вам выделиться на фоне конкурентов и создать уникальный и эффективный дизайн. Не стоит слепо копировать – используйте анализ конкурентов как источник вдохновения и отправную точку для собственных идей.",
                        image: nil
                    )
                ],
                category: "POSTERS"
            )
        ),
        BlogPost(
            imageName: "blog_image2",
            title: "Композиция в дизайне: как создать гармоничный макет",
            author: "Александр Ларцев",
            date: "17 марта 2025",
            category: "POSTERS",
            article: BlogArticle(
                title: "Композиция в дизайне: как создать гармоничный макет",
                authorName: "Александр Ларцев",
                authorPosition: "Преподаватель HSE ART AND DESIGN SCHOOL",
                authorAvatar: "avatar_lartsev",
                image: "blog_image2",
                date: "17 марта 2025",
                readTime: "8 мин",
                content: [
                    BlogSection(
                        heading: "Что такое композиция?",
                        body: "Композиция — это размещение элементов на экране, которое влияет на восприятие...",
                        image: "blog_detail3"
                    ),
                    BlogSection(
                        heading: "Золотое сечение",
                        body: "Использование классических принципов композиции помогает добиться баланса...",
                        image: nil
                    )
                ],
                category: "POSTERS"
            )
        )
        // Добавь больше статей по другим категориям, если нужно
    ]

    /// Отфильтрованный список постов по категории
    var filteredPosts: [BlogPost] {
        if selectedCategory == "ALL" {
            return allPosts
        } else {
            return allPosts.filter { $0.category == selectedCategory }
        }
    }
}
